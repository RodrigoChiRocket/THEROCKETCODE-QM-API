<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qualitas.portal.fraudes.account.Infrastructure.dao.AutoDescripcionDao">

    <!-- Resultado de la consulta mapeando las columnas a los campos de la clase AutoDescripcion -->
    <resultMap id="AutoDescripcionResultMap" type="com.qualitas.portal.fraudes.account.domain.model.AutoDescripcion">
        <id column="I_CATALO_AUTO_DESCRIPCION_ID" property="iCatalogoAutoDescripcionId" />
        <result column="I_MODELO_ID" property="iModeloId" />
        <result column="V_DESCRIPCION" property="vDescripcion" />
        <result column="D_FECHA_CREACION" property="dFechaCreacion" />
        <result column="I_USUARIO_CREACION" property="iUsuarioCreacion" />
    </resultMap>

    <!-- Insertar una nueva descripci贸n de auto -->
    <insert id="crearAutoDescripcion" parameterType="com.qualitas.portal.fraudes.account.domain.model.AutoDescripcion">
        INSERT INTO T_CATALOGO_AUTOS_DESCRIPCION (
            I_MODELO_ID,
            V_DESCRIPCION,
            D_FECHA_CREACION,
            I_USUARIO_CREACION
        ) VALUES (
                     #{iModeloId},
                     #{vDescripcion},
                     #{dFechaCreacion},
                     #{iUsuarioCreacion}
                 )
    </insert>

    <!-- Seleccionar una descripci贸n de auto por ID -->
    <select id="obtenerAutoDescripcion" parameterType="java.math.BigDecimal" resultMap="AutoDescripcionResultMap">
        SELECT
            I_CATALO_AUTO_DESCRIPCION_ID,
            I_MODELO_ID,
            V_DESCRIPCION,
            D_FECHA_CREACION,
            I_USUARIO_CREACION
        FROM T_CATALOGO_AUTOS_DESCRIPCION
        WHERE I_CATALO_AUTO_DESCRIPCION_ID = #{id}
    </select>

    <!-- Actualizar una descripci贸n de auto existente -->
    <update id="actualizarAutoDescripcion" parameterType="com.qualitas.portal.fraudes.account.domain.model.AutoDescripcion">
        UPDATE T_CATALOGO_AUTOS_DESCRIPCION
        SET
            I_MODELO_ID = #{iModeloId},
            V_DESCRIPCION = #{vDescripcion},
            D_FECHA_CREACION = #{dFechaCreacion},
            I_USUARIO_CREACION = #{iUsuarioCreacion}
        WHERE I_CATALO_AUTO_DESCRIPCION_ID = #{iCatalogoAutoDescripcionId}
    </update>

    <!-- Listar todas las descripciones de autos -->
    <select id="listarAutoDescripcion" resultMap="AutoDescripcionResultMap">
        SELECT
            I_CATALO_AUTO_DESCRIPCION_ID,
            I_MODELO_ID,
            V_DESCRIPCION,
            D_FECHA_CREACION,
            I_USUARIO_CREACION
        FROM T_CATALOGO_AUTOS_DESCRIPCION
    </select>

    <!-- Eliminar una descripci贸n de auto por ID -->
    <delete id="eliminarAutoDescripcion" parameterType="java.math.BigDecimal">
        DELETE FROM T_CATALOGO_AUTOS_DESCRIPCION
        WHERE I_CATALO_AUTO_DESCRIPCION_ID = #{id}
    </delete>

</mapper>
